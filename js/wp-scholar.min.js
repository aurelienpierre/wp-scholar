function SimplePopup(message,type){var ifrm=document.createElement("div");ifrm.classList.add("wp-scholar-popup",type),ifrm.innerHTML=message,document.body.appendChild(ifrm),setTimeout((function(){document.body.removeChild(ifrm)}),2500)}headings=document.querySelectorAll("h2, h3, h4, h5, h6"),headings.forEach((function(test){var anchor=test.getElementsByClassName("anchor-link")[0],toc=test.getElementsByClassName("toc-link")[0];anchor&&toc&&(anchor.addEventListener("click",(function(event){var textArea=document.createElement("textarea");textArea.value=document.location.href.match(/(^[^#]*)/)[0]+anchor.getAttribute("href"),document.body.appendChild(textArea),textArea.select();try{document.execCommand("copy"),SimplePopup(wp_scholar_translation.success_message,"info")}catch(err){SimplePopup(wp_scholar_translation.failure_message,"error")}document.body.removeChild(textArea)}),!0),test.addEventListener("mouseenter",(function(){anchor.classList.add("active"),toc.classList.add("active")}),!0),test.addEventListener("mouseleave",(function(){setTimeout((function(){anchor.classList.remove("active"),toc.classList.remove("active")}),2e3)}),!1))})),Array.from(document.getElementsByClassName("footnote-ref")).forEach((function(element,index,array){element.addEventListener("mouseenter",(function(){var popup=document.getElementById("footnote-popup");popup&&document.body.removeChild(popup),document.getElementById("main").style.filter="brightness(95%)";var link_id=element.getAttribute("href").replace("#",""),footnote=document.getElementById(link_id).innerHTML,ifrm=document.createElement("div");ifrm.classList.add("footnote-popup"),ifrm.id="footnote-popup",ifrm.innerHTML=footnote;var viewportOffset=element.getBoundingClientRect(),width=viewportOffset.width,height=viewportOffset.height,x=viewportOffset.x,y=viewportOffset.y,win_height=window.innerHeight,win_width=window.innerWidth;x>win_width/2?ifrm.style.right=win_width-x+"px":ifrm.style.left=x+width+"px",y>win_height/2?ifrm.style.bottom=win_height-y+"px":ifrm.style.top=y+height+"px",document.body.appendChild(ifrm)}),!1),element.addEventListener("mouseleave",(function(){setTimeout((function(){document.getElementById("main").style.filter="none";var popup=document.getElementById("footnote-popup");popup&&document.body.removeChild(popup)}),1e3)}),!1)}));